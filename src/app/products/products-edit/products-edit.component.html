<mat-card>
  <mat-card-title> Product </mat-card-title>

  <mat-card-content>
    <div class="container">
      <app-files-upload
        class="fileupload"
        [(previews)]="previews"
        [(filesToDelete)]="filesToDelete"
        [(selectedFiles)]="selectedFiles"
      ></app-files-upload>
      <form
        *ngIf="user$ | async as user"
        [formGroup]="productForm"
        (ngSubmit)="save(user)"
        style="flex: 1 1 100%; flex: 1"
      >
        <div class="form-container">
          <mat-form-field appearance="fill">
            <mat-label>Name</mat-label>
            <input matInput formControlName="name" required />
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>categories</mat-label>
            <mat-select formControlName="category" name="category" [compareWith]="displayCategory">
              <mat-option *ngFor="let category of productCategories$ | async" [value]="category">
                {{ category.name }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Price</mat-label>
            <input matInput type="number" formControlName="price" />
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Description</mat-label>
            <textarea matInput formControlName="description"></textarea>
          </mat-form-field>
        </div>
        <div class="left-form-btn">
          <button mat-button mat-flat-button color="primary" type="submit">Submit</button>
          <button mat-button routerLink="/products" mat-flat-button type="button">Cancel</button>
        </div>
      </form>
    </div>
  </mat-card-content>
</mat-card>
